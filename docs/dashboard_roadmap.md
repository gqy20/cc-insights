# Dashboard åŠŸèƒ½æ‰©å±•è·¯çº¿å›¾

> æœ¬æ–‡æ¡£è®°å½• Claude Code Dashboard å¯ä»¥æ–°å¢çš„ç»Ÿè®¡åŠŸèƒ½å’Œåˆ†æç»´åº¦

**å½“å‰çŠ¶æ€**: Dashboard v1.0 å·²å®ç°åŸºç¡€åŠŸèƒ½

---

## ğŸ“Š å½“å‰å·²å®ç°åŠŸèƒ½

### âœ… æ ¸å¿ƒç»Ÿè®¡ (v1.0)

| åŠŸèƒ½ | æ•°æ®æº | å¯è§†åŒ–ç±»å‹ |
|------|--------|------------|
| Slash Commands ä½¿ç”¨ç»Ÿè®¡ | history.jsonl | æ¨ªå‘æŸ±çŠ¶å›¾ (Top 15) |
| æ¯æ—¥æ´»åŠ¨è¶‹åŠ¿ | stats-cache.json | æŠ˜çº¿å›¾ |
| 24å°æ—¶æ´»åŠ¨åˆ†å¸ƒ | history.jsonl | æŸ±çŠ¶å›¾ |
| MCP å·¥å…·è°ƒç”¨ç»Ÿè®¡ | debug/ ç›®å½• | é¥¼å›¾ (Top 10) |
| æ—¶é—´èŒƒå›´ç­›é€‰ | - | å¿«æ·é¢„è®¾ + è‡ªå®šä¹‰ |

---

## ğŸ†• å¯æ–°å¢çš„ç»Ÿè®¡åŠŸèƒ½

### 1ï¸âƒ£ é¡¹ç›®æ´»è·ƒåº¦æ’å (é«˜ä¼˜å…ˆçº§)

**æ•°æ®æº**: `history.jsonl` ä¸­çš„ `project` å­—æ®µ

**ç»Ÿè®¡å†…å®¹**:
- å„é¡¹ç›®ä½¿ç”¨æ¬¡æ•°æ’å
- Top 20 é¡¹ç›®å±•ç¤º
- é¡¹ç›®è·¯å¾„ç®€åŒ–æ˜¾ç¤º
- æ—¶é—´èŒƒå›´å†…é¡¹ç›®æ´»è·ƒåº¦å˜åŒ–

**ç¤ºä¾‹æ•°æ®**:
```
chestnut/docs/01_thesis_proposal:  892æ¬¡
university-crawler:                651æ¬¡
mind:                              565æ¬¡
pdfget:                            525æ¬¡
article_mcp:                       476æ¬¡
```

**å¯è§†åŒ–æ–¹æ¡ˆ**:
- å›¾è¡¨ç±»å‹: æ¨ªå‘æŸ±çŠ¶å›¾
- äº¤äº’: ç‚¹å‡»æ˜¾ç¤ºé¡¹ç›®è¯¦æƒ…
- é…è‰²: æŒ‰æ´»è·ƒåº¦æ¸å˜

**å®æ–½éš¾åº¦**: â­ ç®€å•
**ä»·å€¼è¯„ä¼°**: â­â­â­â­â­

---

### 2ï¸âƒ£ æ¨¡å‹ä½¿ç”¨ç»Ÿè®¡ (é«˜ä¼˜å…ˆçº§)

**æ•°æ®æº**: `stats-cache.json` ä¸­çš„ `modelUsage` å’Œ `dailyModelTokens`

**ç»Ÿè®¡å†…å®¹**:
- å„æ¨¡å‹ Token ä½¿ç”¨é‡ (è¾“å…¥/è¾“å‡º/ç¼“å­˜)
- Token ä½¿ç”¨è¶‹åŠ¿æŠ˜çº¿å›¾
- ç¼“å­˜å‘½ä¸­ç‡åˆ†æ
- æ¨¡å‹åˆ‡æ¢æ—¶é—´ç‚¹

**ç¤ºä¾‹æ•°æ®**:
```
glm-4.6:
  - è¾“å…¥: 114M tokens
  - è¾“å‡º: 10.8M tokens
  - ç¼“å­˜è¯»å–: 4.38G tokens
  - ç¼“å­˜åˆ›å»º: 0 tokens

claude-sonnet-4.5:
  - è¾“å…¥: 3.1K tokens
  - è¾“å‡º: 65K tokens
  - ç¼“å­˜è¯»å–: 27M tokens
  - ç¼“å­˜åˆ›å»º: 2.2M tokens
```

**å¯è§†åŒ–æ–¹æ¡ˆ**:
- å›¾è¡¨ç±»å‹: å †å æŸ±çŠ¶å›¾ + æŠ˜çº¿å›¾
- åŒè½´: Token æ•°é‡ (å·¦è½´) + ç¼“å­˜å‘½ä¸­ç‡ (å³è½´)
- äº¤äº’: åˆ‡æ¢ä¸åŒæ¨¡å‹è§†å›¾

**å®æ–½éš¾åº¦**: â­ ç®€å•
**ä»·å€¼è¯„ä¼°**: â­â­â­â­â­

---

### 3ï¸âƒ£ ä¼šè¯ç»Ÿè®¡åˆ†æ (ä¸­ä¼˜å…ˆçº§)

**æ•°æ®æº**: `stats-cache.json` ä¸­çš„ `sessionCount`

**ç»Ÿè®¡å†…å®¹**:
- æ€»ä¼šè¯æ•°: å¯ä» `totalSessions` è·å–
- æ¯æ—¥ä¼šè¯æ•°è¶‹åŠ¿
- ä¼šè¯å¹³å‡æ—¶é•¿
- æœ€é•¿ä¼šè¯ä¿¡æ¯

**ç¤ºä¾‹æ•°æ®**:
```
æ€»ä¼šè¯æ•°: 1,309
å³°å€¼æ—¥æœŸ: 2026-01-04 (23ä¸ªä¼šè¯)
è°·å€¼æ—¥æœŸ: 2025-11-19 (2ä¸ªä¼šè¯)
```

**å¯è§†åŒ–æ–¹æ¡ˆ**:
- å›¾è¡¨ç±»å‹: æŠ˜çº¿å›¾ + ç»Ÿè®¡å¡ç‰‡
- å¡ç‰‡æ˜¾ç¤º: æ€»ä¼šè¯æ•°ã€å¹³å‡ä¼šè¯æ—¶é•¿
- äº¤äº’: æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ç»Ÿè®¡

**å®æ–½éš¾åº¦**: â­ ç®€å•
**ä»·å€¼è¯„ä¼°**: â­â­â­â­

---

### 4ï¸âƒ£ å·¥å…·è°ƒç”¨å¯†åº¦åˆ†æ (ä¸­ä¼˜å…ˆçº§)

**æ•°æ®æº**: `dailyActivity` ä¸­çš„ `toolCallCount / messageCount`

**ç»Ÿè®¡å†…å®¹**:
- å·¥å…·è°ƒç”¨ä¸æ¶ˆæ¯æ¯”ç‡è¶‹åŠ¿
- é«˜å¯†åº¦æ—¶æ®µè¯†åˆ«
- å·¥å…·ä½¿ç”¨æ•ˆç‡åˆ†æ

**ç¤ºä¾‹æ•°æ®**:
```
2025-12-07: å·¥å…·è°ƒç”¨ç‡ 38%
2025-12-21: å·¥å…·è°ƒç”¨ç‡ 37%
2025-12-05: å·¥å…·è°ƒç”¨ç‡ 37%
```

**å¯è§†åŒ–æ–¹æ¡ˆ**:
- å›¾è¡¨ç±»å‹: åŒè½´æŠ˜çº¿å›¾
- å·¦è½´: æ¶ˆæ¯æ•°
- å³è½´: å·¥å…·è°ƒç”¨æ•°
- åŒºåŸŸå¡«å……: å·¥å…·è°ƒç”¨ç‡

**å®æ–½éš¾åº¦**: â­â­ ä¸­ç­‰
**ä»·å€¼è¯„ä¼°**: â­â­â­â­

---

### 5ï¸âƒ£ Agent ä½¿ç”¨ç»Ÿè®¡ (ä¸­ä¼˜å…ˆçº§)

**æ•°æ®æº**: `history.jsonl` ä¸­çš„ agent è°ƒç”¨è®°å½•

**ç»Ÿè®¡å†…å®¹**:
- å„ agent è°ƒç”¨æ¬¡æ•°æ’å
- Agent ç±»å‹åˆ†å¸ƒ
- Agent åä½œæ¨¡å¼

**å¯ç”¨ Agent** (19ä¸ª):
```
- task-executor / task-checker
- git-expert
- human-centric-coder
- jobs-designer
- knuth-style-algorithmist
- liheng-scientific-engineer
- linus-style-programmer
- literature-analysis-expert
- literature-manager
- master-writing-craftsman
- mermaid-diagram-architect
- mermaid-expert-consultant
- pragmatic-linus-programmer
- pytest-expert
- uncle-bob-craftsman
- canvas-design
- pdf-anthropic
```

**å¯è§†åŒ–æ–¹æ¡ˆ**:
- å›¾è¡¨ç±»å‹: æ¨ªå‘æŸ±çŠ¶å›¾
- åˆ†ç»„: æŒ‰ Agent ç±»å‹å½’ç±»
- äº¤äº’: æ˜¾ç¤º Agent è¯¦ç»†æè¿°

**å®æ–½éš¾åº¦**: â­â­ ä¸­ç­‰ (éœ€è¦æ–‡æœ¬è§£æ)
**ä»·å€¼è¯„ä¼°**: â­â­â­

---

### 6ï¸âƒ£ Shell å‘½ä»¤ç»Ÿè®¡ (ä½ä¼˜å…ˆçº§)

**æ•°æ®æº**: `shell-snapshots/` ç›®å½• (1,046ä¸ªæ–‡ä»¶)

**ç»Ÿè®¡å†…å®¹**:
- Shell ç±»å‹åˆ†å¸ƒ (bash/zsh)
- Shell å¿«ç…§æ—¶é—´åˆ†æ
- å¿«ç…§é¢‘ç‡è¶‹åŠ¿

**å¯è§†åŒ–æ–¹æ¡ˆ**:
- å›¾è¡¨ç±»å‹: é¥¼å›¾ + æŠ˜çº¿å›¾
- äº¤äº’: åˆ‡æ¢ä¸åŒ shell ç±»å‹

**å®æ–½éš¾åº¦**: â­â­ ä¸­ç­‰
**ä»·å€¼è¯„ä¼°**: â­â­

---

### 7ï¸âƒ£ æ´»åŠ¨å³°å€¼/ä½è°·åˆ†æ (ä½ä¼˜å…ˆçº§)

**æ•°æ®æº**: `dailyActivity`

**ç»Ÿè®¡å†…å®¹**:
- å³°å€¼æ—¥æœŸæ ‡è¯†
- è°·å€¼æ—¥æœŸæ ‡è¯†
- å¼‚å¸¸æ´»åŠ¨æ£€æµ‹
- æ´»åŠ¨æ³¢åŠ¨åˆ†æ

**ç¤ºä¾‹æ•°æ®**:
```
å³°å€¼: 2026-01-04 (12,702 æ¶ˆæ¯, 23 ä¼šè¯)
è°·å€¼: 2025-11-19 (69 æ¶ˆæ¯, 2 ä¼šè¯)
```

**å¯è§†åŒ–æ–¹æ¡ˆ**:
- å›¾è¡¨ç±»å‹: å¸¦æ ‡æ³¨çš„æŠ˜çº¿å›¾
- æ ‡æ³¨: å³°å€¼/è°·å€¼ç‚¹
- äº¤äº’: ç‚¹å‡»æ˜¾ç¤ºè¯¦æƒ…

**å®æ–½éš¾åº¦**: â­â­ ä¸­ç­‰
**ä»·å€¼è¯„ä¼°**: â­â­â­

---

### 8ï¸âƒ£ Token æ•ˆç‡åˆ†æ (ä½ä¼˜å…ˆçº§)

**æ•°æ®æº**: `dailyModelTokens`

**ç»Ÿè®¡å†…å®¹**:
- Token æ¶ˆè€—è¶‹åŠ¿
- æ¨¡å‹åˆ‡æ¢æ•ˆç‡
- ç¼“å­˜æ•ˆç‡åˆ†æ
- æˆæœ¬ä¼˜åŒ–å»ºè®®

**å¯è§†åŒ–æ–¹æ¡ˆ**:
- å›¾è¡¨ç±»å‹: å¤šç³»åˆ—æŠ˜çº¿å›¾
- äº¤äº’: æ¨¡å‹å¯¹æ¯”

**å®æ–½éš¾åº¦**: â­â­ ä¸­ç­‰
**ä»·å€¼è¯„ä¼°**: â­â­â­

---

## ğŸ¯ å®æ–½ä¼˜å…ˆçº§

### Phase 2: æ ¸å¿ƒæ‰©å±• (å»ºè®®ä¼˜å…ˆå®ç°)

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | å¤æ‚åº¦ | é¢„è®¡å·¥ä½œé‡ |
|------|--------|--------|------------|
| é¡¹ç›®æ´»è·ƒåº¦æ’å | â­â­â­ | ç®€å• | 2-3å°æ—¶ |
| æ¨¡å‹ä½¿ç”¨ç»Ÿè®¡ | â­â­â­ | ç®€å• | 3-4å°æ—¶ |
| ä¼šè¯ç»Ÿè®¡ | â­â­ | ç®€å• | 1-2å°æ—¶ |

### Phase 3: å¢å¼ºåŠŸèƒ½

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | å¤æ‚åº¦ | é¢„è®¡å·¥ä½œé‡ |
|------|--------|--------|------------|
| å·¥å…·è°ƒç”¨å¯†åº¦ | â­â­ | ä¸­ç­‰ | 2-3å°æ—¶ |
| Agent ä½¿ç”¨ç»Ÿè®¡ | â­â­ | ä¸­ç­‰ | 3-4å°æ—¶ |
| æ´»åŠ¨å³°å€¼åˆ†æ | â­ | ä¸­ç­‰ | 2-3å°æ—¶ |

### Phase 4: é«˜çº§åŠŸèƒ½

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | å¤æ‚åº¦ | é¢„è®¡å·¥ä½œé‡ |
|------|--------|--------|------------|
| Shell å‘½ä»¤ç»Ÿè®¡ | â­ | ä¸­ç­‰ | 2-3å°æ—¶ |
| Token æ•ˆç‡åˆ†æ | â­ | ä¸­ç­‰ | 3-4å°æ—¶ |

---

## ğŸ“‹ æŠ€æœ¯å®æ–½è¦ç‚¹

### æ•°æ®è§£æ

**é¡¹ç›®æ´»è·ƒåº¦**:
```go
// history.jsonl ä¸­çš„ project å­—æ®µç›´æ¥å¯ç”¨
type ProjectStats struct {
    Project string `json:"project"`
    Count   int    `json:"count"`
}
```

**æ¨¡å‹ä½¿ç”¨ç»Ÿè®¡**:
```go
// stats-cache.json ä¸­çš„ modelUsage
type ModelUsage struct {
    InputTokens             int `json:"inputTokens"`
    OutputTokens            int `json:"outputTokens"`
    CacheReadInputTokens    int `json:"cacheReadInputTokens"`
    CacheCreationInputTokens int `json:"cacheCreationInputTokens"`
}
```

**ä¼šè¯ç»Ÿè®¡**:
```go
// stats-cache.json ä¸­çš„ sessionCount
// å¯ä» totalSessions å’Œ dailyActivity è·å–
```

### API æ‰©å±•

åœ¨ `api.go` ä¸­æ–°å¢æ¥å£ï¼š
```go
type ExtendedDashboardData struct {
    // ç°æœ‰å­—æ®µ...

    // æ–°å¢å­—æ®µ
    Projects   []ProjectStats   `json:"projects"`
    ModelUsage []ModelStats     `json:"model_usage"`
    Sessions   SessionInfo      `json:"sessions"`
}
```

### å‰ç«¯æ‰©å±•

åœ¨ `static/app.js` ä¸­æ–°å¢å›¾è¡¨æ¸²æŸ“å‡½æ•°ï¼š
```javascript
function initProjectsChart(projects) { ... }
function initModelUsageChart(modelData) { ... }
function initSessionChart(sessionData) { ... }
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é¡¹ç›®æ´»è·ƒåº¦æ’åå®ç°

**æ–‡ä»¶**: `parser.go`
```go
// ParseProjectStats è§£æé¡¹ç›®ç»Ÿè®¡
func ParseProjectStats(tf TimeFilter) ([]ProjectStats, error) {
    path := GetDataPath("history.jsonl")
    // ... è§£æé€»è¾‘
}
```

**æ–‡ä»¶**: `api.go`
```go
// åœ¨ handleDataAPI ä¸­æ·»åŠ 
projectStats, err := ParseProjectStats(tf)
```

**æ–‡ä»¶**: `static/app.js`
```javascript
function initProjectsChart(projects) {
    const chart = echarts.init(document.getElementById('projects'), 'wonderland');
    // ... å›¾è¡¨é…ç½®
}
```

### 2. æ¨¡å‹ä½¿ç”¨ç»Ÿè®¡å®ç°

**æ–‡ä»¶**: `parser.go`
```go
// ParseModelUsage è§£ææ¨¡å‹ä½¿ç”¨ç»Ÿè®¡
func ParseModelUsage() ([]ModelUsageStats, error) {
    cache, err := ParseStatsCache()
    // ... è§£æé€»è¾‘
}
```

---

*æœ€åæ›´æ–°: 2026-01-08*
